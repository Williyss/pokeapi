{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { useEffect, useState } from 'react';\nimport Header from \"../../components/header\";\nimport SearchBar from \"../../components/searchbar\";\nimport CardPokemons from \"../../components/cardPokemons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    pokemons = _useState2[0],\n    setPokemons = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  useEffect(function () {\n    var isMounted = true;\n    function fetchPokemons() {\n      return _fetchPokemons.apply(this, arguments);\n    }\n    function _fetchPokemons() {\n      _fetchPokemons = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('https://pokeapi.co/api/v2/pokemon?limit=20');\n          if (!response.ok) {\n            throw new Error('Network response was not ok');\n          }\n          var data = yield response.json();\n          var pokemonDetails = yield Promise.all(data.results.map(function () {\n            var _ref = _asyncToGenerator(function* (pokemon) {\n              var pokemonResponse = yield fetch(pokemon.url);\n              if (!pokemonResponse.ok) {\n                throw new Error('Failed to fetch pokemon details');\n              }\n              return yield pokemonResponse.json();\n            });\n            return function (_x) {\n              return _ref.apply(this, arguments);\n            };\n          }()));\n          if (isMounted) {\n            setPokemons(pokemonDetails);\n            setLoading(false);\n          }\n        } catch (error) {\n          if (isMounted) {\n            setError(error.message);\n            setLoading(false);\n          }\n        }\n      });\n      return _fetchPokemons.apply(this, arguments);\n    }\n    fetchPokemons();\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n  if (loading) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Header, {}), _jsx(SearchBar, {}), _jsx(Text, {\n        children: \"Loading...\"\n      })]\n    });\n  }\n  if (error) {\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Header, {}), _jsx(SearchBar, {}), _jsxs(Text, {\n        children: [\"Error: \", error]\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Header, {}), _jsx(SearchBar, {}), _jsx(View, {\n      style: {\n        width: '90%'\n      },\n      children: _jsx(FlatList, {\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        data: pokemons,\n        keyExtractor: function keyExtractor(item) {\n          return item.name;\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item;\n          return _jsx(CardPokemons, {\n            nome: item.name,\n            imagem: item.sprites.front_default\n          });\n        },\n        ListEmptyComponent: _jsx(Text, {\n          children: \"No Pok\\xE9mon found\"\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#141a29',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["useEffect","useState","Header","SearchBar","CardPokemons","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","pokemons","setPokemons","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","isMounted","fetchPokemons","_fetchPokemons","apply","arguments","_asyncToGenerator","response","fetch","ok","Error","data","json","pokemonDetails","Promise","all","results","map","_ref","pokemon","pokemonResponse","url","_x","message","View","style","styles","container","children","Text","width","FlatList","horizontal","showsHorizontalScrollIndicator","keyExtractor","item","name","renderItem","_ref2","nome","imagem","sprites","front_default","ListEmptyComponent","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"sources":["C:/Users/Aluno/Desktop/NavigationApiMain/src/screens/details/index.js"],"sourcesContent":["import { StyleSheet, Text, View, FlatList, Image } from 'react-native';\r\nimport { useEffect, useState } from 'react';\r\nimport Header from '../../components/header';\r\nimport SearchBar from '../../components/searchbar';\r\nimport CardPokemons from '../../components/cardPokemons';\r\n\r\nexport default function App() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true; // Flag to track component mount status\r\n\r\n    async function fetchPokemons() {\r\n      try {\r\n        const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=20');\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n        const pokemonDetails = await Promise.all(data.results.map(async (pokemon) => {\r\n          const pokemonResponse = await fetch(pokemon.url);\r\n          if (!pokemonResponse.ok) {\r\n            throw new Error('Failed to fetch pokemon details');\r\n          }\r\n          return await pokemonResponse.json();\r\n        }));\r\n        if (isMounted) {\r\n          setPokemons(pokemonDetails);\r\n          setLoading(false);\r\n        }\r\n      } catch (error) {\r\n        if (isMounted) {\r\n          setError(error.message);\r\n          setLoading(false);\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchPokemons();\r\n\r\n    // Cleanup function to set isMounted to false when the component unmounts\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Header />\r\n        <SearchBar />\r\n        <Text>Loading...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <View style={styles.container}>\r\n        <Header />\r\n        <SearchBar />\r\n        <Text>Error: {error}</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Header />\r\n      <SearchBar />\r\n      <View style={{ width: '90%' }}>\r\n        <FlatList\r\n          horizontal\r\n          showsHorizontalScrollIndicator={false}\r\n          data={pokemons}\r\n          keyExtractor={(item) => item.name} // Use item.name for keyExtractor\r\n          renderItem={({ item }) => (\r\n            <CardPokemons\r\n              nome={item.name}\r\n              imagem={item.sprites.front_default}\r\n            />\r\n          )}\r\n          ListEmptyComponent={<Text>No Pok√©mon found</Text>}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#141a29',\r\n    alignItems: 'center',\r\n    justifyContent: 'center', // Center content vertically\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}